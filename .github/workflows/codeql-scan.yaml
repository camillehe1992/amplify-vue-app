name: CodeQL Scan

on:
  workflow_dispatch:

run-name: Run CodeQL Scan from ${{ github.ref_name }} branch

permissions:
  actions: read
  contents: write
  security-events: write

jobs:
  codeql:
    strategy:
      fail-fast: false
      matrix:
        language: [javascript-typescript]
    uses: camillehe1992/reusable-workflows/.github/workflows/codeql-scan.yaml@main
    secrets: inherit
    with:
      language: ${{ matrix.language }}
      config-file: ./.github/codeql/codeql-config.yaml
